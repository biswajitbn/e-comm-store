<div class="product-listing-page">
  <!-- Filter Sidebar -->
  <aside class="filter-sidebar">
    <h3>Filters</h3>

    <!-- Category Filter -->
    <div class="filter-group">
      <label>Category</label>
      <select [(ngModel)]="categoryId" (change)="onCategoryChange()">
        <option value="">All Categories</option>
        <option *ngFor="let c of categories" [value]="c._id">
          {{ c.name }}
        </option>
      </select>
    </div>

    <!-- Brand Filter -->
    <div class="filter-group">
      <label>Brand</label>
      <select [(ngModel)]="brandId" (change)="getProducts()">
        <option value="">All Brands</option>
        <option *ngFor="let brand of brands" [value]="brand._id">
          {{ brand.name }}
        </option>
      </select>
    </div>
  </aside>

  <!-- Product Grid -->
  <section class="product-grid">
    <ng-container *ngIf="products.length > 0; else noProducts">
      <app-product-card
        *ngFor="let product of products"
        [product]="product"
        (buy)="handleBuy($event)">
      </app-product-card>
    </ng-container>

    <!-- No Products Template -->
    <ng-template #noProducts>
      <div class="no-results">
        <h2>No products found</h2>
        <p>Please try another search or remove some filters.</p>
      </div>
    </ng-template>
  </section>
</div>
